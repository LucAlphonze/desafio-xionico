import{a as ie}from"./chunk-ADOYYVVG.js";import{a as K}from"./chunk-GCGNETYA.js";import"./chunk-WGFONLAU.js";import{b as Q,f as X,g as Z,h as $,j as ee,k as te}from"./chunk-QEC3KR6K.js";import"./chunk-22D5LW2K.js";import{Aa as q,Ba as z,Ca as U,Da as Y,Ma as J,Z as B,ba as D,ca as W,da as G,h as k,i as F,na as N,oa as P,pa as R,qa as A,ra as V,s as I,sa as j,ta as H,za as O}from"./chunk-NEXMW6IQ.js";import"./chunk-4IIP7AHE.js";import"./chunk-OU2I6HUL.js";import"./chunk-QCV3A64O.js";import{m as T}from"./chunk-AYCSQOK4.js";import{Eb as M,Fb as g,Kb as e,Lb as n,Mb as u,Tb as d,Vb as b,cb as l,db as S,dc as a,fc as w,gc as f,hc as C,ic as _,ka as E,kc as L,lc as x,xa as v,xb as p,ya as y,zb as h}from"./chunk-E6UKO3SR.js";import"./chunk-5G567QLT.js";var ne=()=>({"minWidth.%":44});function oe(i,c){if(i&1&&(e(0,"div",27),a(1),n()),i&2){let o=b();M("alert alert-",o.type,""),l(),w(" ",o.message," ")}}function ae(i,c){i&1&&(u(0,"c-spinner",28),a(1,"Cargando... "))}function re(i,c){i&1&&a(0," Ingresar ")}function le(i,c){if(i&1&&(e(0,"div",27),a(1),n()),i&2){let o=b();M("alert alert-",o.typemodal,""),l(),w(" ",o.messagemodal," ")}}function se(i,c){i&1&&(u(0,"c-spinner",28),a(1,"Cargando... "))}function me(i,c){i&1&&a(0," Enviar mail de recuperacion ")}var _e=(()=>{class i{constructor(o,m){this.authService=o,this.router=m,this.email="",this.password="",this.message="",this.type="",this.loadinglogin=!1,this.visible=!1,this.emailforgot="",this.messagemodal="",this.typemodal="",this.loadingforgot=!1}login(){this.email===""||this.password===""?(this.message="Error: Enter a valid email address or password.",this.type="danger"):(this.loadinglogin=!0,this.authService.login(this.email,this.password).then(()=>{this.loadinglogin=!1,this.router.navigate(["/dashboard"])}).catch(o=>{o.message==="auth/email-not-verified"?(this.message="Your email isn't confirmed. Please verify your email to confirm your account.",this.type="warning"):(this.message="Error: "+o.message,this.type="danger"),this.loadinglogin=!1}))}toggleModal(){this.visible=!this.visible}handleLiveDemoChange(o){this.visible=o}forgotpassword(){this.emailforgot===""?(this.messagemodal="Error: Enter a valid email address",this.typemodal="danger"):(this.loadingforgot=!0,this.authService.forgotPassword(this.emailforgot).then(()=>{this.messagemodal="Password reset email sent.",this.typemodal="success",this.loadingforgot=!1}).catch(o=>{this.messagemodal="Error: "+o.message,this.typemodal="danger",this.loadingforgot=!1}))}static{this.\u0275fac=function(m){return new(m||i)(S(K),S(k))}}static{this.\u0275cmp=E({type:i,selectors:[["app-login"]],standalone:!0,features:[L],decls:51,vars:11,consts:[[1,"bg-light","dark:bg-transparent","min-vh-100","d-flex","flex-row","align-items-center"],["breakpoint","md"],[1,"justify-content-center"],["lg","10","xl","8"],[1,"p-4"],["cForm",""],["role","alert",3,"class"],[1,"text-body-secondary"],[1,"mb-3"],["cInputGroupText",""],["cIcon","","name","cilUser"],["autoComplete","email","cFormControl","","placeholder","Email","name","email",3,"ngModelChange","ngModel"],[1,"mb-4"],["cIcon","","name","cilLockLocked"],["autoComplete","current-password","cFormControl","","placeholder","Contrase\xF1a","type","password","name","password",3,"ngModelChange","ngModel"],["xs","6"],["cButton","","color","primary",1,"px-4",3,"click"],["xs","6",1,"text-right"],["cButton","","color","link",1,"px-0",3,"click"],[1,"text-white","bg-primary","py-5",3,"ngStyle"],[1,"text-center"],["cButton","","color","primary","routerLink","/register",1,"mt-3",3,"active"],["id","modalForgot",3,"visibleChange","visible"],["cModalTitle",""],["type","email","name","emailforgot","placeholder","Enter your Email Address","cFormControl","","autoComplete","email",3,"ngModelChange","ngModel"],["cButton","","color","secondary",3,"click"],["cButton","","color","primary",3,"click"],["role","alert"],["aria-hidden","false","size","sm"]],template:function(m,t){m&1&&(e(0,"div",0)(1,"c-container",1)(2,"c-row",2)(3,"c-col",3)(4,"c-card-group")(5,"c-card",4)(6,"c-card-body")(7,"form",5)(8,"h1"),a(9,"Ingresar"),n(),p(10,oe,2,4,"div",6),e(11,"p",7),a(12,"Ingresar al BackOffice"),n(),e(13,"c-input-group",8)(14,"span",9),v(),u(15,"svg",10),n(),y(),e(16,"input",11),_("ngModelChange",function(r){return C(t.email,r)||(t.email=r),r}),n()(),e(17,"c-input-group",12)(18,"span",9),v(),u(19,"svg",13),n(),y(),e(20,"input",14),_("ngModelChange",function(r){return C(t.password,r)||(t.password=r),r}),n()(),e(21,"c-row")(22,"c-col",15)(23,"button",16),d("click",function(){return t.login()}),p(24,ae,2,0)(25,re,1,0),n()(),e(26,"c-col",17)(27,"button",18),d("click",function(){return t.toggleModal()}),a(28," Olvidaste tu contrase\xF1a? "),n()()()()()(),e(29,"c-card",19)(30,"c-card-body",20)(31,"div")(32,"h2"),a(33,"Registrarse"),n(),e(34,"p"),a(35,"Si no posee una cuenta puede registrarse aqui"),n(),e(36,"button",21),a(37," Registrarse Ahora! "),n()()()()()()(),e(38,"c-modal",22),d("visibleChange",function(r){return t.handleLiveDemoChange(r)}),e(39,"c-modal-header")(40,"h5",23),a(41,"Olvide mi contrase\xF1a"),n()(),e(42,"c-modal-body"),p(43,le,2,4,"div",6),e(44,"input",24),_("ngModelChange",function(r){return C(t.emailforgot,r)||(t.emailforgot=r),r}),n()(),e(45,"c-modal-footer")(46,"button",25),d("click",function(){return t.toggleModal()}),a(47," Cerrar "),n(),e(48,"button",26),d("click",function(){return t.forgotpassword()}),p(49,se,2,0)(50,me,1,0),n()()()()()),m&2&&(l(10),g(10,t.message?10:-1),l(6),f("ngModel",t.email),l(4),f("ngModel",t.password),l(4),g(24,t.loadinglogin?24:25),l(5),h("ngStyle",x(10,ne)),l(7),h("active",!0),l(2),h("visible",t.visible),l(5),g(43,t.messagemodal?43:-1),l(),f("ngModel",t.emailforgot),l(5),g(49,t.loadingforgot?49:50))},dependencies:[ie,Y,z,U,O,q,D,W,G,T,F,te,Q,X,Z,ee,$,I,J,V,H,j,N,P,A,R,B]})}}return i})();export{_e as LoginComponent};
